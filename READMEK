Скачиваем актуальный дистрибутив Kafka в формате .tgz  со страницы официального сайта в папку /tmp на сервере, где необходимо развернуть дистрибутив.

Все действия дублируются с нашего портала Обновление версии Kafka. Только здесь поднимается вопрос автоматизации и замена переменных.

playbook на обновление Apache Kafka
____________________________________________________________________________________________________________________________________________________
Обязательно , перед каждым обновлением просматривать старый конфиг и опираясь на него, заполнить файл параметров !!
____________________________________________________________________________________________________________________________________________________
new version - версия нового дистрибутива apache kafka
old version - версия старого дистрибутива apache kafka
xmx_old / xms_old - дефолтное значение
xmx_new/ xms_new - значение из конфига
path - путь
ansible-playbook -i hosts updatekafka.yml --extra-vars "@./params"
ansible-playbook -i hosts updatezookeeper.yml --extra-vars "@./params"
